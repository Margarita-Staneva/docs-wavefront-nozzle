---
title: Installing and Configuring Wavefront by VMWare Nozzle for PCF
owner: Partners
---

This topic describes how to install and configure Wavefront by VMWare Nozzle for PCF.

##<a id='wf-account'></a> Create a Wavefront Account
The Wavefront by VMWare Nozzle for PCF requires that you have a Wavefront account with
an API access token. Please contact [Wavefront Sales](sales@wavefront.com) if required.

##<a id='uaa-account'></a> Create a UAA User Account

Create a UAA user with access to the Firehose and Cloud Controller:

1. Target your system with the UAA CLI (UAAC):
   ```
   $ uaac target https://uaa.YOUR-SYSTEM-DOMAIN
   ```
1. Run the following command to authenticate and obtain an access token for the admin client from the UAA server.
   ```
   $ uaac token client get admin -s ADMIN-CLIENT-CREDENTIALS-SECRET
   ```
1. Create a Wavefront Nozzle user with the password of your choosing.
   ```
   $ uaac -t user add wavefront-nozzle --password PASSWORD --emails na
   ```
1. Add the user to the Cloud Controller Admin Read-Only group.
   ```
   uaac -t member add cloud_controller.admin_read_only wavefront-nozzle
   ```
1. Add the user to the Doppler Firehose group.
   ```
   $ uaac -t member add doppler.firehose wavefront-nozzle
   ```

For information about creating a UAA user, see the
[Creating and Managing Users with the UAA CLI](http://docs.pivotal.io/pivotalcf/adminguide/uaa-user-management.html) topic.

##<a id='install'></a> Install and Configure Wavefront by VMWare Nozzle for PCF in Ops Manager

1. Download the product file from Pivotal Network.

1. Navigate to the Ops Manager Installation Dashboard and click **Import a Product** to upload the product file.

1. Under the **Import a Product** button, click **+** next to the version number of Wavefront by VMWare Nozzle for PCF.
This adds the tile to your staging area.

1. Click the newly added **Wavefront by VMWare Nozzle for PCF** tile.

1. Click the **Wavefront Proxy Config** section
   ![Configure Proxy](images/config_proxy.png)

1. Enter the following in the **Wavefront Proxy Config** section:
  1. **Wavefront Instance URL**: A URL such as **https://YOUR_INSTANCE.wavefront.com/api**
  1. **Wavefront API Token**: API access token from the profile page on your Wavefront instance
  1. **User friendly hostname**: A unique hostname for the proxy such as **DOMAIN-pcf-proxy**
  1. **CF TCP Domain**: A PCF TCP domain name such as `tcp.YOUR-APPS-DOMAIN` that the proxy can bind to
  1. **CF TCP Port**: A global PCF TCP port that is open for routing requests to the Wavefront proxy
  1. **CF Quota Name**: A CF org quota with at least 20GB memory and a route and port available.

1. Click **Save**.

1. Click the **Wavefront Firehose Nozzle Config** section
   ![Configure Nozzle](images/config_nozzle.png)

1. Enter the following in the **Wavefront Firehose Nozzle Config** section:
  1. **CF TCP Domain**: A PCF TCP domain such as `tcp.DOMAIN.io`
  1. **CF API Hostname**: The PCF API Hostname such as `api.YOUR-SYSTEM-DOMAIN`
  1. **CF UAA Username/CF UAA Password**: Enter the username and password you created
  in the <a href="#uaa-account">Create a UAA Admin User</a> step, above.
  1. **Skip SSL Verification**: Check to skip ssl validation. This is useful in non-production environments.

1. Click **Save**.

1. Return to the Ops Manager Installation Dashboard and click **Apply changes** to install Wavefront by VMWare Nozzle for PCF tile.

##<a id='marketplace'></a> Configure Service Instance for Wavefront Service Broker for PCF
Follow the steps below to enable developers to send app metrics to the Wavefront proxy:

1. To provision a **wavefront-proxy** service instance: `cf create-service wavefront-proxy standard SERVICE_INSTANCE_NAME`
1. To bind apps to the service instance: `cf bind-service APP_NAME SERVICE_INSTANCE_NAME`
1. Refer to the [cloud-foundry-sampleapp](https://github.com/wavefrontHQ/cloud-foundry-sampleapp) on how apps can send metrics to the Wavefront proxy.
